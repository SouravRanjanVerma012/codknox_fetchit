import{b as N,d as M,e as O,i as I,l as k,m as D,n as A,o as T,p as V,s as G,t as j,u as L}from"./chunk-2UILZCVU.js";import{g as U,h as E,i as F,k as w}from"./chunk-3IJW53EU.js";import{Gb as r,Hb as m,Ib as S,Qa as a,Qb as _,Va as y,Za as b,ca as f,cb as h,da as x,ib as c,lb as v,nb as t,ob as i,pb as p,sb as C,vb as u,wb as g}from"./chunk-7V2EDJBG.js";import"./chunk-ODN5LVDJ.js";var P=(s,n)=>({"text-green-600":s,"text-red-600":n});function J(s,n){if(s&1){let e=C();t(0,"tr",20)(1,"td",21),r(2),i(),t(3,"td",22),r(4),i(),t(5,"td",22),r(6),i(),t(7,"td",22),r(8),i(),t(9,"td",22),r(10),i(),t(11,"td",22),r(12),i(),t(13,"td",22)(14,"span",23),r(15),i()(),t(16,"td",22)(17,"button",24),u("click",function(){let l=f(e).$implicit,d=g();return x(d.toggleStatus(l))}),p(18,"i"),i(),t(19,"button",25),u("click",function(){let l=f(e).$implicit,d=g();return x(d.editUser(l))}),p(20,"i",26),i()()()}if(s&2){let e=n.$implicit,o=g();a(),c("title",e.name),a(),m(e.name?e.name:"--"),a(2),m(e.email?e.email:"--"),a(2),m(e.city?e.city:"--"),a(2),m(e.mobile),a(2),m(o.formatTimestamp(e.createdOn)),a(2),m(e.referralCode),a(2),c("ngClass",_(11,P,e.status==="active",e.status==="blocked")),a(),S(" ",e.status," "),a(3),v(e.status==="active"?"fas fa-toggle-on text-green-600":"fas fa-toggle-off text-red-600")}}function z(s,n){s&1&&(t(0,"tr")(1,"td",27),r(2,"No users found"),i()())}var q=class s{constructor(n){this.fb=n}filterForm;users=[];filteredUsers=[];ngOnInit(){this.filterForm=this.fb.group({status:["All"],query:[""],city:[""]}),this.loadUsers(),this.applyFilters(),this.filterForm.valueChanges.subscribe(()=>this.applyFilters())}loadUsers(){let n=localStorage.getItem("users");n?this.users=JSON.parse(n):(this.users=this.getDemoUsers(),this.saveUsers())}saveUsers(){localStorage.setItem("users",JSON.stringify(this.users))}getDemoUsers(){return[{id:"1",name:"George Harrison",email:"george@mail.com",city:"Delhi",mobile:"111113333",createdOn:1654130400,referralCode:"geo79052",status:"active"},{id:"2",name:"Rajat Singhal",email:"rajatsinghal@gmail.com",city:"Mumbai",mobile:"9417315855",createdOn:1652502960,referralCode:"raj21994",status:"active"},{id:"3",name:"William Den",email:"williamden@gmail.com",city:"Chennai",mobile:"400500600",createdOn:1652884080,referralCode:"wil68783",status:"active"},{id:"4",name:"Rohan Chatterjee",email:"rohan@gmail.com",city:"Pune",mobile:"369369369",createdOn:1655111988,referralCode:"roh37079",status:"active"}]}applyFilters(){let{status:n,query:e,city:o}=this.filterForm.value;this.filteredUsers=this.users.filter(l=>{let d=n==="All"||l.status===n,B=!e||[l.name,l.email,l.mobile].some($=>$?.toLowerCase().includes(e.toLowerCase())),R=!o||o==="All"||l.city&&l.city.toLowerCase()===o.toLowerCase();return d&&B&&R})}toggleStatus(n){n.status=n.status==="active"?"blocked":"active",this.saveUsers(),this.applyFilters()}editUser(n){alert(`Edit User: ${n.name}`)}formatTimestamp(n){return new Date(n*1e3).toLocaleString()}static \u0275fac=function(e){return new(e||s)(y(G))};static \u0275cmp=b({type:s,selectors:[["app-user-management"]],decls:41,vars:3,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","shadow-sm","border-b","mb-8"],[1,"flex","items-center","justify-between","px-6","py-4"],[1,"font-semibold","text-xl"],[1,"max-w-7xl","mx-auto","px-4","py-6"],[1,"flex","flex-wrap","gap-4","items-center","mb-4",3,"formGroup"],["formControlName","status",1,"flex-auto","rounded","border","border-gray-300","px-3","py-1"],["value","All"],["value","active"],["value","blocked"],["formControlName","query","type","search","placeholder","Enter Email/Name/Phone",1,"border","border-gray-300","rounded","px-3","py-1"],["formControlName","city","type","search","placeholder","City Name",1,"border","border-gray-300","rounded","px-3","py-1"],["type","button",1,"flex-auto","px-3","py-1","bg-blue-600","text-white","rounded",3,"click"],[1,"fas","fa-sync-alt"],[1,"overflow-auto","border","border-gray-200","rounded","shadow"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50","text-gray-500","font-semibold"],[1,"px-4","py-2","text-left"],["class","hover:bg-gray-50 border-b border-gray-200",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"hover:bg-gray-50","border-b","border-gray-200"],[1,"px-4","py-2","font-semibold","cursor-pointer",3,"title"],[1,"px-4","py-2"],[1,"capitalize","font-semibold",3,"ngClass"],["title","Toggle Status",1,"mr-3",3,"click"],["title","Edit User",3,"click"],[1,"fas","fa-pencil-alt","text-gray-700","hover:text-blue-600"],["colspan","8",1,"text-center","py-6","text-gray-400"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"List Of Users"),i()()(),t(5,"div",4)(6,"form",5)(7,"select",6)(8,"option",7),r(9,"All"),i(),t(10,"option",8),r(11,"Active"),i(),t(12,"option",9),r(13,"Blocked"),i()(),p(14,"input",10)(15,"input",11),t(16,"button",12),u("click",function(){return o.applyFilters()}),p(17,"i",13),i()(),t(18,"div",14)(19,"table",15)(20,"thead",16)(21,"tr")(22,"th",17),r(23,"Name"),i(),t(24,"th",17),r(25,"Email"),i(),t(26,"th",17),r(27,"City"),i(),t(28,"th",17),r(29,"Mobile"),i(),t(30,"th",17),r(31,"Created On"),i(),t(32,"th",17),r(33,"Referral Code"),i(),t(34,"th",17),r(35,"Status"),i(),t(36,"th",17),r(37,"Actions"),i()()(),t(38,"tbody"),h(39,J,21,14,"tr",18)(40,z,3,0,"tr",19),i()()()()()),e&2&&(a(6),c("formGroup",o.filterForm),a(33),c("ngForOf",o.filteredUsers),a(),c("ngIf",o.filteredUsers.length===0))},dependencies:[w,U,E,F,L,I,T,V,N,A,M,O,k,D,j],encapsulation:2})};export{q as UserManagementComponent};
