import './polyfills.server.mjs';
import{d as E,h as V,n as N,o as k,p as O,t as U,u as W}from"./chunk-MJ3RF4KC.mjs";import{j as F,k as I,m as P}from"./chunk-U4YU66BB.mjs";import{Ab as g,Bb as w,Kb as C,Lb as c,Mb as f,Pb as D,Qb as M,Rb as T,Ta as s,ab as _,da as m,ea as p,fb as y,nb as d,sb as o,tb as r,ub as h,vb as S,wb as v,xb as b}from"./chunk-SO2YPVB3.mjs";import{a as u}from"./chunk-H4UZCO6D.mjs";function L(l,e){if(l&1&&(o(0,"option",14),c(1),r()),l&2){let t=e.$implicit;d("value",t.type),s(),f(t.label)}}function R(l,e){if(l&1){let t=b();S(0),o(1,"div",15),c(2),r(),o(3,"button",16),g("click",function(){m(t);let i=w();return p(i.viewPdf(i.selectedDoc.pdfData))}),c(4," View PDF "),r(),v()}if(l&2){let t=w();s(2),f(t.selectedDoc.filename)}}var A=class l{docs=[{type:"terms",label:"Terms and Conditions (User)"},{type:"privacy",label:"Privacy Policy (User)"},{type:"about",label:"About Us (User)"}];selectedType="terms";get selectedDoc(){return this.docs.find(e=>e.type===this.selectedType)}constructor(){let e=localStorage.getItem("settingDocs");if(e){let t=JSON.parse(e);this.docs=this.docs.map(n=>u(u({},n),t.find(i=>i.type===n.type)))}}selectDoc(e){this.selectedType=e}onFileSelect(e){let t=e.target;if(!t.files||t.files.length===0)return;let n=t.files[0];if(n.type!=="application/pdf"){alert("Only PDF files are allowed");return}let i=new FileReader;i.onload=()=>{this.selectedDoc.pdfData=i.result,this.selectedDoc.filename=n.name,this.persistDocs()},i.readAsDataURL(n)}persistDocs(){localStorage.setItem("settingDocs",JSON.stringify(this.docs))}triggerFileInput(e){e.value="",e.click()}viewPdf(e){if(!e)return;window.open()?.document.write(`<iframe width='100%' height='100%' src='${e}'></iframe>`)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=_({type:l,selectors:[["app-setting-management"]],decls:17,vars:4,consts:[["pdfInput",""],[1,"flex-auto","min-h-screen","bg-gray-50","flex","items-center","justify-center","p-5"],[1,"bg-white","w-full","max-w-3xl","mx-auto","rounded","border","border-gray-400","shadow","px-0","py-12"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"flex","flex-col","items-center"],[1,"w-70","mb-10","px-4","py-3","rounded-full","border","border-gray-200","shadow-sm","bg-white","text-lg","font-semibold","focus:outline-none",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","w-full"],[1,"text-xl","font-bold","mb-5"],["src","https://img.icons8.com/ios-filled/200/fa314a/pdf.png","alt","PDF",1,"h-32","w-32","mb-3"],[4,"ngIf"],[1,"flex","flex-1/1","max-w-lg"],["type","file","accept","application/pdf","hidden","",3,"change"],["type","button",1,"w-40","py-3","mt-2","rounded","bg-red-600","hover:bg-red-700","text-white","font-semibold","text-lg","tracking-wide","transition",3,"click"],[3,"value"],[1,"mb-2","text-base","font-medium","text-gray-700"],[1,"bg-blue-600","hover:bg-blue-800","text-white","px-6","py-2","rounded","font-bold","mb-5",3,"click"]],template:function(t,n){if(t&1){let i=b();o(0,"div",1)(1,"div",2)(2,"h1",3),c(3,"Settings"),r(),o(4,"div",4)(5,"select",5),T("ngModelChange",function(a){return m(i),M(n.selectedType,a)||(n.selectedType=a),p(a)}),y(6,L,2,2,"option",6),r(),o(7,"div",7)(8,"h2",8),c(9),r(),h(10,"img",9),y(11,R,5,1,"ng-container",10),o(12,"label",11)(13,"input",12,0),g("change",function(a){return m(i),p(n.onFileSelect(a))}),r(),o(15,"button",13),g("click",function(){m(i);let a=C(14);return p(n.triggerFileInput(a))}),c(16," Choose A Pdf "),r()()()()()()}t&2&&(s(5),D("ngModel",n.selectedType),s(),d("ngForOf",n.docs),s(3),f(n.selectedDoc.label.replace(" (User)","")),s(2),d("ngIf",n.selectedDoc.pdfData))},dependencies:[P,F,I,U,k,O,N,E,V,W],encapsulation:2})};export{A as SettingManagementComponent};
